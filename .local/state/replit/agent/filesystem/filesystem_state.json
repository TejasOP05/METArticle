{"file_contents":{"app.py":{"content":"import os\nimport logging\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_login import LoginManager\nfrom sqlalchemy.orm import DeclarativeBase\nfrom werkzeug.middleware.proxy_fix import ProxyFix\n\n# Configure logging\nlogging.basicConfig(level=logging.DEBUG)\n\nclass Base(DeclarativeBase):\n    pass\n\ndb = SQLAlchemy(model_class=Base)\nlogin_manager = LoginManager()\n\n# Create the app\napp = Flask(__name__)\napp.secret_key = os.environ.get(\"SESSION_SECRET\")\napp.wsgi_app = ProxyFix(app.wsgi_app, x_proto=1, x_host=1)\n\n# Configure the database\n# Temporarily use SQLite if PostgreSQL connection fails\ndatabase_url = os.environ.get(\"DATABASE_URL\")\nif database_url and \"neon\" in database_url:\n    # The Neon database is disabled, use SQLite instead\n    logging.warning(\"Neon database is disabled, using SQLite instead\")\n    app.config[\"SQLALCHEMY_DATABASE_URI\"] = \"sqlite:///app.db\"\n    app.config[\"SQLALCHEMY_ENGINE_OPTIONS\"] = {}\nelse:\n    app.config[\"SQLALCHEMY_DATABASE_URI\"] = database_url or \"sqlite:///app.db\" \n    app.config[\"SQLALCHEMY_ENGINE_OPTIONS\"] = {\n        \"pool_recycle\": 300,\n        \"pool_pre_ping\": True,\n    }\napp.config[\"SQLALCHEMY_TRACK_MODIFICATIONS\"] = False\n\n# File upload configuration\napp.config['UPLOAD_FOLDER'] = 'uploads'\napp.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024  # 16MB max file size\n\n# Initialize extensions\ndb.init_app(app)\nlogin_manager.init_app(app)\nlogin_manager.login_view = 'login'\nlogin_manager.login_message = 'Please log in to access this page.'\nlogin_manager.login_message_category = 'info'\n\n@login_manager.user_loader\ndef load_user(user_id):\n    from models import User\n    return User.query.get(int(user_id))\n\n# Create uploads directory if it doesn't exist\nos.makedirs(app.config['UPLOAD_FOLDER'], exist_ok=True)\n\nwith app.app_context():\n    # Import models to ensure they're registered\n    import models  # noqa: F401\n    db.create_all()\n    logging.info(\"Database tables created\")\n","size_bytes":1955},"forms.py":{"content":"from flask_wtf import FlaskForm\nfrom flask_wtf.file import FileField, FileRequired, FileAllowed\nfrom wtforms import StringField, TextAreaField, PasswordField, SelectField, SubmitField\nfrom wtforms.validators import DataRequired, Email, Length, EqualTo, ValidationError\nfrom models import User\n\nclass RegistrationForm(FlaskForm):\n    username = StringField('Username', validators=[\n        DataRequired(), \n        Length(min=4, max=20, message=\"Username must be between 4 and 20 characters\")\n    ])\n    email = StringField('Email', validators=[DataRequired(), Email()])\n    first_name = StringField('First Name', validators=[Length(max=50)])\n    last_name = StringField('Last Name', validators=[Length(max=50)])\n    password = PasswordField('Password', validators=[\n        DataRequired(), \n        Length(min=6, message=\"Password must be at least 6 characters\")\n    ])\n    password2 = PasswordField('Confirm Password', validators=[\n        DataRequired(), \n        EqualTo('password', message='Passwords must match')\n    ])\n    submit = SubmitField('Register')\n    \n    def validate_username(self, username):\n        user = User.query.filter_by(username=username.data).first()\n        if user:\n            raise ValidationError('Username already taken. Please choose a different one.')\n    \n    def validate_email(self, email):\n        user = User.query.filter_by(email=email.data).first()\n        if user:\n            raise ValidationError('Email already registered. Please choose a different one.')\n\nclass LoginForm(FlaskForm):\n    username = StringField('Username', validators=[DataRequired()])\n    password = PasswordField('Password', validators=[DataRequired()])\n    submit = SubmitField('Sign In')\n\nclass ArticleSubmissionForm(FlaskForm):\n    title = StringField('Article Title', validators=[\n        DataRequired(), \n        Length(max=200, message=\"Title must be less than 200 characters\")\n    ])\n    abstract = TextAreaField('Abstract', validators=[\n        DataRequired(),\n        Length(max=2000, message=\"Abstract must be less than 2000 characters\")\n    ])\n    keywords = StringField('Keywords (comma-separated)', validators=[\n        Length(max=500, message=\"Keywords must be less than 500 characters\")\n    ])\n    category = SelectField('Category', choices=[\n        ('computer_science', 'Computer Science'),\n        ('engineering', 'Engineering'),\n        ('mathematics', 'Mathematics'),\n        ('physics', 'Physics'),\n        ('chemistry', 'Chemistry'),\n        ('biology', 'Biology'),\n        ('medicine', 'Medicine'),\n        ('social_sciences', 'Social Sciences'),\n        ('humanities', 'Humanities'),\n        ('business', 'Business'),\n        ('other', 'Other')\n    ], validators=[DataRequired()])\n    file = FileField('PDF File', validators=[\n        FileRequired(),\n        FileAllowed(['pdf'], 'Only PDF files are allowed!')\n    ])\n    submit = SubmitField('Submit Article')\n\nclass ArticleReviewForm(FlaskForm):\n    status = SelectField('Decision', choices=[\n        ('approved', 'Approve'),\n        ('rejected', 'Reject')\n    ], validators=[DataRequired()])\n    comment = TextAreaField('Review Comments', validators=[\n        Length(max=1000, message=\"Comments must be less than 1000 characters\")\n    ])\n    submit = SubmitField('Submit Review')\n","size_bytes":3272},"main.py":{"content":"from app import app\nimport routes  # noqa: F401\n\nif __name__ == \"__main__\":\n    app.run(host=\"0.0.0.0\", port=5000, debug=True)\n","size_bytes":127},"models.py":{"content":"from datetime import datetime\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_login import UserMixin\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom app import db\n\nclass User(UserMixin, db.Model):\n    __tablename__ = 'users'\n    \n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), unique=True, nullable=False)\n    email = db.Column(db.String(120), unique=True, nullable=False)\n    password_hash = db.Column(db.String(256), nullable=False)\n    role = db.Column(db.String(20), nullable=False, default='author')  # 'author', 'supervisor', 'admin'\n    first_name = db.Column(db.String(50))\n    last_name = db.Column(db.String(50))\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    active_status = db.Column(db.Boolean, default=True)\n    \n    @property\n    def is_active(self):\n        \"\"\"Required by Flask-Login\"\"\"\n        return self.active_status\n    \n    # Relationship with articles\n    articles = db.relationship('Article', foreign_keys='Article.author_id', backref='author', lazy=True)\n    \n    def set_password(self, password):\n        \"\"\"Set password hash\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password against hash\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    @property\n    def full_name(self):\n        \"\"\"Get full name\"\"\"\n        if self.first_name and self.last_name:\n            return f\"{self.first_name} {self.last_name}\"\n        return self.username\n    \n    def is_supervisor(self):\n        \"\"\"Check if user is supervisor or admin\"\"\"\n        return self.role in ['supervisor', 'admin']\n    \n    def is_admin(self):\n        \"\"\"Check if user is admin\"\"\"\n        return self.role == 'admin'\n\nclass Article(db.Model):\n    __tablename__ = 'articles'\n    \n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(200), nullable=False)\n    abstract = db.Column(db.Text)\n    keywords = db.Column(db.String(500))\n    category = db.Column(db.String(100))\n    filename = db.Column(db.String(255), nullable=False)\n    original_filename = db.Column(db.String(255), nullable=False)\n    file_size = db.Column(db.Integer)\n    status = db.Column(db.String(20), default='pending')  # 'pending', 'approved', 'rejected'\n    download_count = db.Column(db.Integer, default=0)\n    \n    # Timestamps\n    submitted_at = db.Column(db.DateTime, default=datetime.utcnow)\n    reviewed_at = db.Column(db.DateTime)\n    \n    # Foreign keys\n    author_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)\n    reviewer_id = db.Column(db.Integer, db.ForeignKey('users.id'))\n    \n    # Relationships\n    reviewer = db.relationship('User', foreign_keys=[reviewer_id])\n    \n    @property\n    def is_approved(self):\n        \"\"\"Check if article is approved\"\"\"\n        return self.status == 'approved'\n    \n    @property\n    def is_pending(self):\n        \"\"\"Check if article is pending\"\"\"\n        return self.status == 'pending'\n    \n    @property\n    def is_rejected(self):\n        \"\"\"Check if article is rejected\"\"\"\n        return self.status == 'rejected'\n\nclass ArticleComment(db.Model):\n    __tablename__ = 'article_comments'\n    \n    id = db.Column(db.Integer, primary_key=True)\n    article_id = db.Column(db.Integer, db.ForeignKey('articles.id'), nullable=False)\n    user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)\n    comment = db.Column(db.Text, nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    \n    # Relationships\n    article = db.relationship('Article', backref='comments')\n    user = db.relationship('User', backref='comments')\n","size_bytes":3728},"pyproject.toml":{"content":"[project]\nname = \"repl-nix-workspace\"\nversion = \"0.1.0\"\ndescription = \"Add your description here\"\nrequires-python = \">=3.11\"\ndependencies = [\n    \"email-validator>=2.3.0\",\n    \"flask-dance>=7.1.0\",\n    \"flask>=3.1.2\",\n    \"flask-sqlalchemy>=3.1.1\",\n    \"gunicorn>=23.0.0\",\n    \"psycopg2-binary>=2.9.10\",\n    \"flask-login>=0.6.3\",\n    \"oauthlib>=3.3.1\",\n    \"pyjwt>=2.10.1\",\n    \"werkzeug>=3.1.3\",\n    \"flask-wtf>=1.2.2\",\n    \"wtforms>=3.2.1\",\n    \"sqlalchemy>=2.0.43\",\n]\n","size_bytes":471},"replit.md":{"content":"# Overview\n\nMET Articles is a Flask-based academic research article submission and review platform. It serves as a repository where researchers, students, and educators can submit academic papers, have them undergo peer review by supervisors, and share approved research with the broader academic community. The platform provides role-based access control with authors submitting articles, supervisors reviewing submissions, and admins managing the overall system.\n\n# User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n# System Architecture\n\n## Web Framework\nThe application uses Flask as the core web framework with a traditional MVC architecture. The main application is configured in `app.py` with routes defined in `routes.py`, data models in `models.py`, and forms handled through `forms.py`. The application uses Jinja2 templating engine for rendering HTML pages stored in the `templates/` directory.\n\n## Database Layer\nThe system uses SQLAlchemy as the ORM with Flask-SQLAlchemy integration. The database models define a User entity with role-based permissions (author, supervisor, admin) and an Article entity with submission status tracking. The database is configured to use connection pooling with automatic reconnection handling for production deployment.\n\n## Authentication & Authorization\nFlask-Login handles user session management with password hashing implemented via Werkzeug's security utilities. The system implements a three-tier role system: authors can submit articles, supervisors can review and approve/reject submissions, and admins have full system access. Login state is managed through secure sessions.\n\n## File Management\nArticle files are handled through a secure upload system that generates random filenames to prevent conflicts and unauthorized access. The system validates file types (PDF only), manages file size limits (16MB max), and stores uploaded files in a dedicated uploads directory outside the web root.\n\n## Frontend Architecture\nThe user interface uses Bootstrap 5 for responsive design with custom CSS enhancements. JavaScript functionality is centralized in `main.js` for client-side form validation, file upload enhancements, and interactive features. The template system uses a base layout with block inheritance for consistent page structure.\n\n## Review Workflow\nThe platform implements a formal peer review process where submitted articles start in a \"pending\" state, supervisors can review and provide feedback through a dedicated dashboard, and articles transition to \"approved\" or \"rejected\" states. The system tracks review history and allows for supervisor comments on submissions.\n\n# External Dependencies\n\n## Core Framework Dependencies\n- Flask web framework for application structure\n- SQLAlchemy/Flask-SQLAlchemy for database operations and ORM\n- Flask-Login for user authentication and session management\n- Flask-WTF for form handling and CSRF protection\n- WTForms for form validation and rendering\n\n## Frontend Dependencies\n- Bootstrap 5 CSS framework for responsive UI design\n- Font Awesome icon library for consistent iconography\n- Custom CSS and JavaScript for enhanced user experience\n\n## Security & Utilities\n- Werkzeug for password hashing and secure filename handling\n- Python secrets module for generating secure random filenames\n- ProxyFix middleware for deployment behind reverse proxies\n\n## Database Configuration\nThe application is configured to work with any SQLAlchemy-compatible database through environment variables. Connection pooling and automatic ping functionality are configured for production reliability.\n\n## File Storage\nLocal file system storage for uploaded PDF documents with secure filename generation and directory management. The system creates upload directories automatically and handles file size validation.","size_bytes":3831},"routes.py":{"content":"import os\nfrom flask import render_template, request, redirect, url_for, flash, send_from_directory, abort\nfrom flask_login import login_user, logout_user, login_required, current_user\nfrom werkzeug.utils import secure_filename\nfrom datetime import datetime\nfrom sqlalchemy import desc\n\nfrom app import app, db\nfrom models import User, Article, ArticleComment\nfrom forms import RegistrationForm, LoginForm, ArticleSubmissionForm, ArticleReviewForm\nfrom utils import save_article_file, get_file_size, format_file_size\n\n@app.route('/')\ndef index():\n    \"\"\"Home page\"\"\"\n    # Get trending articles (top 5 by download count)\n    trending_articles = Article.query.filter_by(status='approved')\\\n        .order_by(desc(Article.download_count))\\\n        .limit(5).all()\n    \n    # Get recent articles\n    recent_articles = Article.query.filter_by(status='approved')\\\n        .order_by(desc(Article.submitted_at))\\\n        .limit(3).all()\n    \n    # Get total counts for statistics\n    total_articles = Article.query.filter_by(status='approved').count()\n    total_authors = User.query.filter_by(role='author').count()\n    \n    return render_template('index.html', \n                         trending_articles=trending_articles,\n                         recent_articles=recent_articles,\n                         total_articles=total_articles,\n                         total_authors=total_authors)\n\n@app.route('/register', methods=['GET', 'POST'])\ndef register():\n    \"\"\"User registration\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('index'))\n    \n    form = RegistrationForm()\n    if form.validate_on_submit():\n        user = User(\n            username=form.username.data,\n            email=form.email.data,\n            first_name=form.first_name.data,\n            last_name=form.last_name.data,\n            role='author'  # Default role\n        )\n        user.set_password(form.password.data)\n        \n        db.session.add(user)\n        db.session.commit()\n        \n        flash('Registration successful! You can now log in.', 'success')\n        return redirect(url_for('login'))\n    \n    return render_template('register.html', form=form)\n\n@app.route('/login', methods=['GET', 'POST'])\ndef login():\n    \"\"\"User login\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('index'))\n    \n    form = LoginForm()\n    if form.validate_on_submit():\n        user = User.query.filter_by(username=form.username.data).first()\n        \n        if user and user.check_password(form.password.data) and user.is_active:\n            login_user(user)\n            next_page = request.args.get('next')\n            flash(f'Welcome back, {user.full_name}!', 'success')\n            return redirect(next_page) if next_page else redirect(url_for('index'))\n        else:\n            flash('Invalid username or password', 'error')\n    \n    return render_template('login.html', form=form)\n\n@app.route('/logout')\n@login_required\ndef logout():\n    \"\"\"User logout\"\"\"\n    logout_user()\n    flash('You have been logged out.', 'info')\n    return redirect(url_for('index'))\n\n@app.route('/submit-article', methods=['GET', 'POST'])\n@login_required\ndef submit_article():\n    \"\"\"Submit new article (Authors only)\"\"\"\n    if current_user.role not in ['author', 'admin']:\n        flash('You do not have permission to submit articles.', 'error')\n        return redirect(url_for('index'))\n    \n    form = ArticleSubmissionForm()\n    if form.validate_on_submit():\n        # Save the uploaded file\n        filename = save_article_file(form.file.data)\n        if filename:\n            article = Article(\n                title=form.title.data,\n                abstract=form.abstract.data,\n                keywords=form.keywords.data,\n                category=form.category.data,\n                filename=filename,\n                original_filename=form.file.data.filename,\n                file_size=get_file_size(filename),\n                author_id=current_user.id\n            )\n            \n            db.session.add(article)\n            db.session.commit()\n            \n            flash('Article submitted successfully! It will be reviewed by our team.', 'success')\n            return redirect(url_for('my_articles'))\n        else:\n            flash('Error saving file. Please try again.', 'error')\n    \n    return render_template('submit_article.html', form=form)\n\n@app.route('/my-articles')\n@login_required\ndef my_articles():\n    \"\"\"View user's own articles\"\"\"\n    if current_user.role not in ['author', 'admin']:\n        flash('Access denied.', 'error')\n        return redirect(url_for('index'))\n    \n    articles = Article.query.filter_by(author_id=current_user.id)\\\n        .order_by(desc(Article.submitted_at)).all()\n    \n    return render_template('my_articles.html', articles=articles)\n\n@app.route('/articles')\ndef articles():\n    \"\"\"List all approved articles\"\"\"\n    page = request.args.get('page', 1, type=int)\n    category = request.args.get('category', '')\n    search = request.args.get('search', '')\n    \n    query = Article.query.filter_by(status='approved')\n    \n    if category:\n        query = query.filter_by(category=category)\n    \n    if search:\n        query = query.filter(Article.title.contains(search) | \n                           Article.abstract.contains(search) |\n                           Article.keywords.contains(search))\n    \n    articles = query.order_by(desc(Article.submitted_at))\\\n        .paginate(page=page, per_page=10, error_out=False)\n    \n    # Get categories for filter\n    categories = db.session.query(Article.category)\\\n        .filter_by(status='approved')\\\n        .distinct().all()\n    categories = [cat[0] for cat in categories if cat[0]]\n    \n    return render_template('articles.html', \n                         articles=articles,\n                         categories=categories,\n                         current_category=category,\n                         search=search)\n\n@app.route('/article/<int:id>')\ndef article_detail(id):\n    \"\"\"Article detail page\"\"\"\n    article = Article.query.get_or_404(id)\n    \n    # Only show approved articles to non-supervisors\n    if not article.is_approved and not (current_user.is_authenticated and current_user.is_supervisor()):\n        abort(404)\n    \n    return render_template('article_detail.html', article=article)\n\n@app.route('/download/<int:id>')\ndef download_article(id):\n    \"\"\"Download article file\"\"\"\n    article = Article.query.get_or_404(id)\n    \n    # Only allow download of approved articles\n    if not article.is_approved:\n        abort(404)\n    \n    # Increment download count\n    article.download_count += 1\n    db.session.commit()\n    \n    return send_from_directory(app.config['UPLOAD_FOLDER'], \n                             article.filename,\n                             as_attachment=True,\n                             download_name=article.original_filename)\n\n@app.route('/approval-dashboard')\n@login_required\ndef approval_dashboard():\n    \"\"\"Dashboard for supervisors to review articles\"\"\"\n    if not current_user.is_supervisor():\n        flash('Access denied. Supervisor privileges required.', 'error')\n        return redirect(url_for('index'))\n    \n    # Get pending articles\n    pending_articles = Article.query.filter_by(status='pending')\\\n        .order_by(Article.submitted_at).all()\n    \n    # Get recently reviewed articles\n    reviewed_articles = Article.query.filter(Article.status.in_(['approved', 'rejected']))\\\n        .order_by(desc(Article.reviewed_at))\\\n        .limit(10).all()\n    \n    return render_template('approval_dashboard.html',\n                         pending_articles=pending_articles,\n                         reviewed_articles=reviewed_articles)\n\n@app.route('/review-article/<int:id>', methods=['GET', 'POST'])\n@login_required\ndef review_article(id):\n    \"\"\"Review article (Supervisors only)\"\"\"\n    if not current_user.is_supervisor():\n        flash('Access denied. Supervisor privileges required.', 'error')\n        return redirect(url_for('index'))\n    \n    article = Article.query.get_or_404(id)\n    form = ArticleReviewForm()\n    \n    if form.validate_on_submit():\n        article.status = form.status.data\n        article.reviewer_id = current_user.id\n        article.reviewed_at = datetime.utcnow()\n        \n        # Add comment if provided\n        if form.comment.data:\n            comment = ArticleComment(\n                article_id=article.id,\n                user_id=current_user.id,\n                comment=form.comment.data\n            )\n            db.session.add(comment)\n        \n        db.session.commit()\n        \n        status_text = 'approved' if form.status.data == 'approved' else 'rejected'\n        flash(f'Article \"{article.title}\" has been {status_text}.', 'success')\n        return redirect(url_for('approval_dashboard'))\n    \n    return render_template('review_article.html', article=article, form=form)\n\n@app.route('/about')\ndef about():\n    \"\"\"About page\"\"\"\n    return render_template('about.html')\n\n@app.context_processor\ndef utility_processor():\n    \"\"\"Template utility functions\"\"\"\n    return dict(format_file_size=format_file_size)\n\n@app.errorhandler(404)\ndef not_found_error(error):\n    return render_template('404.html'), 404\n\n@app.errorhandler(500)\ndef internal_error(error):\n    db.session.rollback()\n    return render_template('500.html'), 500\n","size_bytes":9327},"utils.py":{"content":"import os\nimport secrets\nfrom werkzeug.utils import secure_filename\nfrom flask import current_app\n\ndef save_article_file(file):\n    \"\"\"Save uploaded file and return filename\"\"\"\n    if file and file.filename:\n        # Generate a random filename to avoid conflicts\n        filename = secure_filename(file.filename)\n        name, ext = os.path.splitext(filename)\n        random_name = secrets.token_hex(16)\n        filename = f\"{random_name}{ext}\"\n        \n        file_path = os.path.join(current_app.config['UPLOAD_FOLDER'], filename)\n        file.save(file_path)\n        return filename\n    return None\n\ndef get_file_size(filename):\n    \"\"\"Get file size in bytes\"\"\"\n    file_path = os.path.join(current_app.config['UPLOAD_FOLDER'], filename)\n    if os.path.exists(file_path):\n        return os.path.getsize(file_path)\n    return 0\n\ndef format_file_size(size_bytes):\n    \"\"\"Format file size in human readable format\"\"\"\n    if size_bytes == 0:\n        return \"0 B\"\n    size_names = [\"B\", \"KB\", \"MB\", \"GB\"]\n    i = 0\n    while size_bytes >= 1024 and i < len(size_names) - 1:\n        size_bytes /= 1024.0\n        i += 1\n    return f\"{size_bytes:.1f} {size_names[i]}\"\n\ndef allowed_file(filename):\n    \"\"\"Check if file extension is allowed\"\"\"\n    return '.' in filename and \\\n           filename.rsplit('.', 1)[1].lower() == 'pdf'\n","size_bytes":1326},"static/css/custom.css":{"content":"/* Custom CSS for MET Articles */\n\n/* General Improvements */\nbody {\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    line-height: 1.6;\n}\n\n/* Hero Section */\n.hero-section {\n    background: linear-gradient(135deg, #0d6efd 0%, #0a58ca 100%);\n    min-height: 500px;\n}\n\n/* Article Cards */\n.article-card {\n    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\n}\n\n.article-card:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 15px rgba(0,0,0,0.1) !important;\n}\n\n/* Navigation Enhancements */\n.navbar-brand {\n    font-weight: 700;\n    font-size: 1.4rem;\n}\n\n.navbar-nav .nav-link {\n    font-weight: 500;\n    transition: color 0.2s ease;\n}\n\n.navbar-nav .nav-link:hover {\n    color: rgba(255,255,255,0.9) !important;\n}\n\n/* Form Styling */\n.form-control:focus {\n    border-color: #0d6efd;\n    box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);\n}\n\n.form-select:focus {\n    border-color: #0d6efd;\n    box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);\n}\n\n/* Button Enhancements */\n.btn {\n    font-weight: 500;\n    border-radius: 6px;\n    transition: all 0.2s ease;\n}\n\n.btn-primary {\n    background: linear-gradient(135deg, #0d6efd 0%, #0a58ca 100%);\n    border: none;\n}\n\n.btn-primary:hover {\n    background: linear-gradient(135deg, #0a58ca 0%, #084298 100%);\n    transform: translateY(-1px);\n}\n\n.btn-success {\n    background: linear-gradient(135deg, #198754 0%, #146c43 100%);\n    border: none;\n}\n\n.btn-success:hover {\n    background: linear-gradient(135deg, #146c43 0%, #0f5132 100%);\n    transform: translateY(-1px);\n}\n\n/* Card Enhancements */\n.card {\n    border: none;\n    border-radius: 10px;\n    overflow: hidden;\n}\n\n.card-header {\n    border-bottom: none;\n    font-weight: 600;\n}\n\n/* Badge Styling */\n.badge {\n    font-weight: 500;\n    padding: 0.5em 0.75em;\n}\n\n/* Footer Styling */\nfooter {\n    margin-top: auto;\n}\n\nfooter a:hover {\n    color: #adb5bd !important;\n}\n\n/* Alert Enhancements */\n.alert {\n    border: none;\n    border-radius: 8px;\n    font-weight: 500;\n}\n\n.alert-success {\n    background-color: #d1e7dd;\n    color: #0f5132;\n}\n\n.alert-warning {\n    background-color: #fff3cd;\n    color: #664d03;\n}\n\n.alert-danger {\n    background-color: #f8d7da;\n    color: #721c24;\n}\n\n.alert-info {\n    background-color: #d1ecf1;\n    color: #055160;\n}\n\n/* Table Enhancements */\n.table {\n    border-radius: 8px;\n    overflow: hidden;\n}\n\n.table th {\n    background-color: #f8f9fa;\n    border-bottom: 2px solid #dee2e6;\n    font-weight: 600;\n}\n\n.table-hover tbody tr:hover {\n    background-color: rgba(13, 110, 253, 0.04);\n}\n\n/* Modal Enhancements */\n.modal-content {\n    border: none;\n    border-radius: 10px;\n}\n\n.modal-header {\n    border-bottom: 1px solid #e9ecef;\n}\n\n/* Loading Animation */\n.spinner-border {\n    width: 1.5rem;\n    height: 1.5rem;\n}\n\n/* Responsive Adjustments */\n@media (max-width: 768px) {\n    .hero-section {\n        min-height: 400px;\n        text-align: center;\n    }\n    \n    .hero-section h1 {\n        font-size: 2.5rem;\n    }\n    \n    .hero-section .display-1 {\n        font-size: 4rem;\n    }\n    \n    .btn-group {\n        flex-direction: column;\n    }\n    \n    .btn-group .btn {\n        border-radius: 6px !important;\n        margin-bottom: 2px;\n    }\n}\n\n/* Text Utilities */\n.text-justify {\n    text-align: justify;\n}\n\n/* Custom Spacing */\n.py-6 {\n    padding-top: 4rem !important;\n    padding-bottom: 4rem !important;\n}\n\n/* Icon Spacing */\n.fas, .far, .fab {\n    margin-right: 0.25rem;\n}\n\n/* Search Results Highlighting */\n.search-highlight {\n    background-color: #fff3cd;\n    padding: 0.125rem 0.25rem;\n    border-radius: 0.25rem;\n}\n\n/* Status Indicators */\n.status-pending {\n    background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);\n}\n\n.status-approved {\n    background: linear-gradient(135deg, #198754 0%, #146c43 100%);\n}\n\n.status-rejected {\n    background: linear-gradient(135deg, #dc3545 0%, #b02a37 100%);\n}\n\n/* File Upload Area */\n.upload-area {\n    border: 2px dashed #dee2e6;\n    border-radius: 8px;\n    padding: 2rem;\n    text-align: center;\n    transition: border-color 0.2s ease;\n}\n\n.upload-area:hover {\n    border-color: #0d6efd;\n}\n\n/* Statistics Cards */\n.stat-card {\n    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n    border-radius: 10px;\n    padding: 1.5rem;\n    text-align: center;\n}\n\n/* Animation Classes */\n.fade-in {\n    animation: fadeIn 0.5s ease-in;\n}\n\n@keyframes fadeIn {\n    from { opacity: 0; transform: translateY(20px); }\n    to { opacity: 1; transform: translateY(0); }\n}\n\n.slide-in {\n    animation: slideIn 0.5s ease-out;\n}\n\n@keyframes slideIn {\n    from { transform: translateX(-20px); opacity: 0; }\n    to { transform: translateX(0); opacity: 1; }\n}\n\n/* Dark mode support (if needed) */\n@media (prefers-color-scheme: dark) {\n    .card {\n        background-color: #212529;\n        color: #fff;\n    }\n    \n    .table {\n        color: #fff;\n    }\n    \n    .table th {\n        background-color: #343a40;\n        color: #fff;\n    }\n}\n","size_bytes":4966},"static/js/main.js":{"content":"/**\n * MET Articles - Main JavaScript File\n * Handles client-side interactions and enhancements\n */\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    // Initialize all components\n    initializeFileUpload();\n    initializeFormValidation();\n    initializeTooltips();\n    initializeSearchEnhancements();\n    initializeArticleInteractions();\n    initializeDashboardFeatures();\n});\n\n/**\n * File Upload Enhancements\n */\nfunction initializeFileUpload() {\n    const fileInput = document.querySelector('input[type=\"file\"]');\n    if (fileInput) {\n        fileInput.addEventListener('change', function(e) {\n            const file = e.target.files[0];\n            if (file) {\n                validateFileUpload(file);\n                updateFileUploadDisplay(file);\n            }\n        });\n\n        // Drag and drop functionality\n        const formContainer = fileInput.closest('.card-body');\n        if (formContainer) {\n            formContainer.addEventListener('dragover', function(e) {\n                e.preventDefault();\n                formContainer.classList.add('bg-light');\n            });\n\n            formContainer.addEventListener('dragleave', function(e) {\n                e.preventDefault();\n                formContainer.classList.remove('bg-light');\n            });\n\n            formContainer.addEventListener('drop', function(e) {\n                e.preventDefault();\n                formContainer.classList.remove('bg-light');\n                \n                const files = e.dataTransfer.files;\n                if (files.length > 0) {\n                    fileInput.files = files;\n                    validateFileUpload(files[0]);\n                    updateFileUploadDisplay(files[0]);\n                }\n            });\n        }\n    }\n}\n\n/**\n * Validate uploaded file\n */\nfunction validateFileUpload(file) {\n    const maxSize = 16 * 1024 * 1024; // 16MB\n    const allowedTypes = ['application/pdf'];\n\n    if (!allowedTypes.includes(file.type)) {\n        showAlert('Please select a PDF file only.', 'danger');\n        return false;\n    }\n\n    if (file.size > maxSize) {\n        showAlert('File size must be less than 16MB.', 'danger');\n        return false;\n    }\n\n    return true;\n}\n\n/**\n * Update file upload display\n */\nfunction updateFileUploadDisplay(file) {\n    const fileInput = document.querySelector('input[type=\"file\"]');\n    const feedback = document.createElement('div');\n    feedback.className = 'mt-2 text-success small';\n    feedback.innerHTML = `\n        <i class=\"fas fa-check-circle me-1\"></i>\n        Selected: ${file.name} (${formatFileSize(file.size)})\n    `;\n\n    // Remove existing feedback\n    const existingFeedback = fileInput.parentNode.querySelector('.text-success');\n    if (existingFeedback) {\n        existingFeedback.remove();\n    }\n\n    fileInput.parentNode.appendChild(feedback);\n}\n\n/**\n * Format file size in human readable format\n */\nfunction formatFileSize(bytes) {\n    if (bytes === 0) return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];\n}\n\n/**\n * Form Validation Enhancements\n */\nfunction initializeFormValidation() {\n    const forms = document.querySelectorAll('form');\n    forms.forEach(form => {\n        form.addEventListener('submit', function(e) {\n            if (!validateForm(form)) {\n                e.preventDefault();\n                e.stopPropagation();\n            }\n            form.classList.add('was-validated');\n        });\n\n        // Real-time validation\n        const inputs = form.querySelectorAll('input, textarea, select');\n        inputs.forEach(input => {\n            input.addEventListener('blur', function() {\n                validateField(input);\n            });\n        });\n    });\n}\n\n/**\n * Validate individual form field\n */\nfunction validateField(field) {\n    const value = field.value.trim();\n    let isValid = true;\n    let message = '';\n\n    // Username validation\n    if (field.name === 'username' && value) {\n        if (value.length < 4) {\n            isValid = false;\n            message = 'Username must be at least 4 characters long.';\n        } else if (!/^[a-zA-Z0-9_]+$/.test(value)) {\n            isValid = false;\n            message = 'Username can only contain letters, numbers, and underscores.';\n        }\n    }\n\n    // Email validation\n    if (field.type === 'email' && value) {\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(value)) {\n            isValid = false;\n            message = 'Please enter a valid email address.';\n        }\n    }\n\n    // Password validation\n    if (field.type === 'password' && value) {\n        if (value.length < 6) {\n            isValid = false;\n            message = 'Password must be at least 6 characters long.';\n        }\n    }\n\n    // Show validation feedback\n    updateFieldValidation(field, isValid, message);\n    return isValid;\n}\n\n/**\n * Update field validation display\n */\nfunction updateFieldValidation(field, isValid, message) {\n    field.classList.remove('is-valid', 'is-invalid');\n    \n    // Remove existing feedback\n    const existingFeedback = field.parentNode.querySelector('.invalid-feedback, .valid-feedback');\n    if (existingFeedback && !existingFeedback.textContent.includes('error')) {\n        existingFeedback.remove();\n    }\n\n    if (field.value.trim()) {\n        if (isValid) {\n            field.classList.add('is-valid');\n        } else {\n            field.classList.add('is-invalid');\n            if (message) {\n                const feedback = document.createElement('div');\n                feedback.className = 'invalid-feedback';\n                feedback.textContent = message;\n                field.parentNode.appendChild(feedback);\n            }\n        }\n    }\n}\n\n/**\n * Validate entire form\n */\nfunction validateForm(form) {\n    const inputs = form.querySelectorAll('input[required], textarea[required], select[required]');\n    let isValid = true;\n\n    inputs.forEach(input => {\n        if (!validateField(input)) {\n            isValid = false;\n        }\n    });\n\n    return isValid;\n}\n\n/**\n * Initialize Bootstrap tooltips\n */\nfunction initializeTooltips() {\n    const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"], [title]'));\n    tooltipTriggerList.map(function(tooltipTriggerEl) {\n        if (!tooltipTriggerEl.hasAttribute('data-bs-toggle')) {\n            tooltipTriggerEl.setAttribute('data-bs-toggle', 'tooltip');\n        }\n        return new bootstrap.Tooltip(tooltipTriggerEl);\n    });\n}\n\n/**\n * Search Enhancements\n */\nfunction initializeSearchEnhancements() {\n    const searchInput = document.querySelector('input[name=\"search\"]');\n    if (searchInput) {\n        let searchTimeout;\n        \n        searchInput.addEventListener('input', function() {\n            clearTimeout(searchTimeout);\n            searchTimeout = setTimeout(() => {\n                // Auto-submit search after 500ms of inactivity\n                if (this.value.length > 2 || this.value.length === 0) {\n                    this.form.submit();\n                }\n            }, 500);\n        });\n\n        // Clear search button\n        const clearBtn = document.createElement('button');\n        clearBtn.type = 'button';\n        clearBtn.className = 'btn btn-outline-secondary btn-sm ms-2';\n        clearBtn.innerHTML = '<i class=\"fas fa-times\"></i>';\n        clearBtn.title = 'Clear search';\n        clearBtn.addEventListener('click', function() {\n            searchInput.value = '';\n            searchInput.form.submit();\n        });\n\n        if (searchInput.value) {\n            searchInput.parentNode.appendChild(clearBtn);\n        }\n    }\n}\n\n/**\n * Article Interactions\n */\nfunction initializeArticleInteractions() {\n    // Article card hover effects\n    const articleCards = document.querySelectorAll('.article-card');\n    articleCards.forEach(card => {\n        card.addEventListener('mouseenter', function() {\n            this.style.transform = 'translateY(-2px)';\n        });\n\n        card.addEventListener('mouseleave', function() {\n            this.style.transform = 'translateY(0)';\n        });\n    });\n\n    // Download tracking\n    const downloadLinks = document.querySelectorAll('a[href*=\"/download/\"]');\n    downloadLinks.forEach(link => {\n        link.addEventListener('click', function() {\n            // Track download analytics (if needed)\n            console.log('Article downloaded:', this.href);\n        });\n    });\n\n    // Article sharing functionality\n    if (navigator.share) {\n        const shareButtons = document.querySelectorAll('.share-article');\n        shareButtons.forEach(button => {\n            button.addEventListener('click', function() {\n                const articleTitle = this.dataset.title;\n                const articleUrl = this.dataset.url;\n                \n                navigator.share({\n                    title: articleTitle,\n                    url: articleUrl\n                });\n            });\n        });\n    }\n}\n\n/**\n * Dashboard Features\n */\nfunction initializeDashboardFeatures() {\n    // Auto-refresh pending count\n    const pendingBadges = document.querySelectorAll('.pending-count');\n    if (pendingBadges.length > 0) {\n        setInterval(updatePendingCount, 60000); // Check every minute\n    }\n\n    // Quick actions\n    const quickActionButtons = document.querySelectorAll('.quick-action');\n    quickActionButtons.forEach(button => {\n        button.addEventListener('click', function() {\n            // Add loading state\n            const originalText = this.innerHTML;\n            this.innerHTML = '<i class=\"fas fa-spinner fa-spin me-2\"></i>Loading...';\n            this.disabled = true;\n\n            // Restore after navigation\n            setTimeout(() => {\n                this.innerHTML = originalText;\n                this.disabled = false;\n            }, 1000);\n        });\n    });\n}\n\n/**\n * Update pending article count\n */\nfunction updatePendingCount() {\n    // This would typically make an AJAX call to get updated counts\n    // For now, we'll just add a visual indicator that data is being refreshed\n    const badges = document.querySelectorAll('.pending-count');\n    badges.forEach(badge => {\n        badge.style.opacity = '0.5';\n        setTimeout(() => {\n            badge.style.opacity = '1';\n        }, 500);\n    });\n}\n\n/**\n * Show alert message\n */\nfunction showAlert(message, type = 'info') {\n    const alertContainer = document.querySelector('.container');\n    const alert = document.createElement('div');\n    alert.className = `alert alert-${type} alert-dismissible fade show mt-3`;\n    alert.innerHTML = `\n        ${message}\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\n    `;\n\n    alertContainer.insertBefore(alert, alertContainer.firstChild);\n\n    // Auto-dismiss after 5 seconds\n    setTimeout(() => {\n        alert.remove();\n    }, 5000);\n}\n\n/**\n * Template download functionality\n */\nfunction downloadTemplate() {\n    // Create a simple article template\n    const templateContent = `\n# Article Template for MET Articles\n\n## Title\n[Your Article Title Here]\n\n## Abstract\n[Write a comprehensive abstract summarizing your research, methodology, and findings (150-300 words)]\n\n## Keywords\n[List relevant keywords separated by commas]\n\n## 1. Introduction\n[Introduce your research topic, background, and objectives]\n\n## 2. Literature Review\n[Review relevant literature and position your work]\n\n## 3. Methodology\n[Describe your research methodology and approach]\n\n## 4. Results\n[Present your findings with appropriate figures and tables]\n\n## 5. Discussion\n[Discuss the implications of your results]\n\n## 6. Conclusion\n[Summarize your key findings and future work]\n\n## References\n[List all references in appropriate academic format]\n\n---\n*Note: This is a basic template. Please follow your field's specific formatting guidelines and citation standards.*\n    `;\n\n    const blob = new Blob([templateContent], { type: 'text/plain' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'MET_Article_Template.txt';\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n\n    showAlert('Article template downloaded successfully!', 'success');\n}\n\n/**\n * Keyboard shortcuts\n */\ndocument.addEventListener('keydown', function(e) {\n    // Ctrl/Cmd + K for search\n    if ((e.ctrlKey || e.metaKey) && e.key === 'k') {\n        e.preventDefault();\n        const searchInput = document.querySelector('input[name=\"search\"]');\n        if (searchInput) {\n            searchInput.focus();\n        }\n    }\n\n    // Escape to close modals\n    if (e.key === 'Escape') {\n        const openModal = document.querySelector('.modal.show');\n        if (openModal) {\n            const modal = bootstrap.Modal.getInstance(openModal);\n            if (modal) {\n                modal.hide();\n            }\n        }\n    }\n});\n\n/**\n * Smooth scrolling for anchor links\n */\ndocument.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\n    anchor.addEventListener('click', function(e) {\n        e.preventDefault();\n        const target = document.querySelector(this.getAttribute('href'));\n        if (target) {\n            target.scrollIntoView({\n                behavior: 'smooth',\n                block: 'start'\n            });\n        }\n    });\n});\n\n/**\n * Form auto-save functionality (for article submission)\n */\nfunction initializeAutoSave() {\n    const articleForm = document.querySelector('form[enctype=\"multipart/form-data\"]');\n    if (articleForm && window.localStorage) {\n        const formData = {};\n        const inputs = articleForm.querySelectorAll('input[type=\"text\"], textarea, select');\n        \n        // Load saved data\n        inputs.forEach(input => {\n            const savedValue = localStorage.getItem(`metarticles_${input.name}`);\n            if (savedValue && !input.value) {\n                input.value = savedValue;\n            }\n        });\n\n        // Save data on input\n        inputs.forEach(input => {\n            input.addEventListener('input', function() {\n                localStorage.setItem(`metarticles_${this.name}`, this.value);\n            });\n        });\n\n        // Clear saved data on successful submission\n        articleForm.addEventListener('submit', function() {\n            inputs.forEach(input => {\n                localStorage.removeItem(`metarticles_${input.name}`);\n            });\n        });\n    }\n}\n\n// Initialize auto-save\ninitializeAutoSave();\n\n/**\n * Utility Functions\n */\nwindow.MetArticles = {\n    showAlert: showAlert,\n    downloadTemplate: downloadTemplate,\n    formatFileSize: formatFileSize\n};\n","size_bytes":14782}},"version":1}